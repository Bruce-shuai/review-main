## HTTP2 

### HTTP/1.1时代的带宽问题
虽然HTTP/1.1是对HTTP/1.0的性能升级和优化。但是HTTP/1.1对带宽的利用率不好。之所以说 HTTP / 1.1 对带宽的利用率不理想，是因为 HTTP / 1.1 很难将带宽用满。比如我们常说的 100M 带宽，实际的下载速度能达到 12.5M / S，而采用 HTTP / 1.1 时，也许在加载页面资源时最大只能使用到 2.5M / S，很难将 12.5M 全部用满。

#### 问题的原因
1. **TCP的慢启动(很有意思)** 因为页面中常用的一些关键资源文件本来就不大，如 HTML 文件、CSS 文件和 JavaScript 文件，通常这些文件在 TCP 连接建立好之后就要发起请求的，但这个过程是慢启动，所以耗费的时间比正常的时间要多很多，这样就推迟了宝贵的首次渲染页面的时长了。   

2. **开启的多条TCP连接，会竞争固定的带宽** 在多域名的情况下，n * 6条tcp连接会竞争固定的带宽，这样就会造成有些非常关键的资源下载很慢

3. **HTTP/1.1队头阻塞** 请求如果被堵塞，即浪费带宽、CPU。也让浏览器可能要花很久才能得到关键资源。队头阻塞导致数据不能**并行请求**

### HTTP2的升级

#### 多路复用
慢启动和 TCP 连接之间相互竞争带宽是由于 TCP 本身的机制导致的，而队头阻塞是由于 HTTP / 1.1 的机制导致的。

规避上述的3个问题：
1. HTTP / 2的思路就是一个域名只使用一个TCP长连接传输数据，这样就只需要一次慢启动，以及规避竞争带宽造成的问题。 较好的解决上述1、2问题

2. 多路复用，能够并行请求资源。也就是任何时候都可以将请求发送给服务器，而并不需要等待其他请求的完成，然后服务器也可以随时返回处理好的请求资源给浏览器。
